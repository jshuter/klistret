<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>Test</title>
    	
    	<!-- Ext styles -->
		<link rel="stylesheet" type="text/css" href="extjs/resources/css/ext-all.css"/>
		
    	<!-- Ext scripts -->
		<script type="text/javascript" src="extjs/adapter/ext/ext-base-debug.js"></script>
    	<script type="text/javascript" src="extjs/ext-all-debug.js"></script>
    	
    	<script type="text/javascript">
		var testing = {
			"com:klistret:cmdb:ci:pojo:successful":true,
			"com:klistret:cmdb:ci:pojo:count":1,
			"com:klistret:cmdb:ci:pojo:elements":{
				"com:klistret:cmdb:ci:pojo:id":123,
				"com:klistret:cmdb:ci:pojo:name":"Mars",
				"com:klistret:cmdb:ci:pojo:fromTimeStamp":"2010-07-08T16:38:00.478+02:00",
				"com:klistret:cmdb:ci:pojo:createTimeStamp":"2010-07-08T16:38:00.478+02:00",
				"com:klistret:cmdb:ci:pojo:updateTimeStamp":"2010-10-25T15:02:09.446+02:00",
				"com:klistret:cmdb:ci:pojo:type":{
					"com:klistret:cmdb:ci:pojo:id":1,
					"com:klistret:cmdb:ci:pojo:name":"{http:\/\/www.klistret.com\/cmdb\/ci\/element\/logical\/collection}Environment",
					"com:klistret:cmdb:ci:pojo:fromTimeStamp":"2009-08-05T11:20:12.471+02:00",
					"com:klistret:cmdb:ci:pojo:createTimeStamp":"2009-08-05T11:20:12.471+02:00",
					"com:klistret:cmdb:ci:pojo:updateTimeStamp":"2009-08-05T11:20:12.471+02:00"
				},
				"com:klistret:cmdb:ci:pojo:configuration":{
					"@www:w3:org:2001:XMLSchema-instance:type":"com:klistret:cmdb:ci:element:logical:collection:Environment",
					"@Watermark":"past",
					"com:klistret:cmdb:ci:commons:Name":"Mars"
				}
			}
		};
		
		function extract(obj, expr) {
			if (typeof obj !== "object") return obj;
			
			var re = /[\[\.]/, myexpr = expr, myobj = obj;
			while (String(myexpr).search(re) !== -1) {
				var i = String(myexpr).search(re);
				var key = myexpr.substring(0, i);
				
				if (myobj.hasOwnProperty(key)) {
					myobj = myobj[key];
				}
				
				myexpr = myexpr.substring(i+1, myexpr.length);
			}
			
			return myobj[myexpr];
		}

		alert(extract(testing,"com:klistret:cmdb:ci:pojo:elements.com:klistret:cmdb:ci:pojo:id"));
    	</script>
	</head>
	<body scroll="no">      
	</body>
</html>