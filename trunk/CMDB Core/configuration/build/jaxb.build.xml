<project default="jaxb:ci:src">
	<!-- Windows -->
	<property name="tmp-destdir" location="C:/temp" />
	<property name="thirdparty-basedir" location="C:/workshop/downloads" />
	<property name="dist-basedir" location="C:/workshop/downloads/klistret" />
	<property name="schema-basedir" location="C:/workshop/klistret/CMDB Core/src/xsd" />

	<!-- Linux -->
	<!--
	<property name="schema-basedir" location="/home/matthew/Documents/workspace/klistret/CMDB Core/src/xsd" />
	<property name="tmp-destdir" location="/tmp" />
	<property name="thirdparty-basedir" location="/home/matthew/Documents/software" />
	<property name="dist-basedir" location="/home/matthew/Documents/workspace/klistret/distribution/lib" />
	-->

	<path id="jaxb.class.path">
		<fileset dir="${thirdparty-basedir}/jaxb-ri-20090410/lib">
			<include name="jaxb1-impl.jar" />
			<include name="jaxb-api.jar" />
			<include name="jaxb-impl.jar" />
			<include name="jaxb-xjc.jar" />
		</fileset>
	</path>

	<path id="jaxb2-commons.class.path">
		<fileset dir="${thirdparty-basedir}/jaxb2-commons">
			<include name="collection-setter-injector.jar" />
		</fileset>
	</path>

	<path id="jaxb2-basics.class.path">
		<fileset dir="${thirdparty-basedir}/jaxb2-basics-dist-0.5.1/dist">
			<include name="jaxb2-basics-ant-0.5.1.jar" />
			<include name="jaxb2-basics-tools-0.5.1.jar" />
		</fileset>
	</path>

	<path id="resteasy.class.path">
		<fileset dir="${thirdparty-basedir}/resteasy-jaxrs-1.1.GA/lib">
			<include name="resteasy-jaxb-provider-1.1.GA.jar" />
		</fileset>
	</path>

	<path id="spring.class.path">
		<fileset dir="${thirdparty-basedir}/spring-framework-2.5.6.SEC01/dist">
			<include name="spring.jar" />
		</fileset>
	</path>

	<path id="jakarta-commons.class.path">
		<fileset dir="${thirdparty-basedir}/spring-framework-2.5.6.SEC01/lib/jakarta-commons">
			<include name="commons-beanutils.jar" />
			<include name="commons-lang.jar" />
			<include name="commons-logging.jar" />
		</fileset>
	</path>

	<path id="klistret.plugin.class.path">
		<fileset dir="${dist-basedir}">
			<include name="klistret.xjc.jar" />
		</fileset>
	</path>

	<taskdef name="xjc" classname="org.jvnet.jaxb2_commons.xjc.XJC2Task">
		<classpath>
			<path refid="jaxb.class.path" />
			<path refid="jaxb2-commons.class.path" />
			<path refid="jaxb2-basics.class.path" />
			<path refid="resteasy.class.path" />
			<path refid="spring.class.path" />
			<path refid="jakarta-commons.class.path" />
			<path refid="klistret.plugin.class.path" />
		</classpath>
	</taskdef>

	<target name="jaxb:ci:src">

		<xjc destdir="${tmp-destdir}" extension="true">
			<arg value="-Xcollection-setter-injector" />
			<arg value="-XxmlRootElement" />
			<arg value="-XxmlNSMap" />
			<schema dir="${schema-basedir}" includes="pojo.xsd" />
			<binding file="jaxb.binding.xml" />
		</xjc>

	</target>
</project>